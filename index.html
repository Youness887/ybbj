<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI NEXUS Web3 - نظام الربط</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- مكتبة Ethers.js للتعامل مع البلوكشين -->
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #020617; color: #e2e8f0; }
        ::-webkit-scrollbar { display: none; }
        .nft-btn { background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function App() {
            const [account, setAccount] = useState(null);
            const [status, setStatus] = useState('جاهز للربط');

            // وظيفة ربط المحفظة
            const connectWallet = async () => {
                if (window.ethereum) {
                    try {
                        setStatus('جاري الاتصال...');
                        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                        setAccount(accounts[0]);
                        setStatus('متصل');
                    } catch (error) {
                        console.error(error);
                        setStatus('فشل الاتصال');
                    }
                } else {
                    alert('يرجى فتح التطبيق من داخل متصفح MetaMask على الهاتف أو تثبيت إضافة MetaMask');
                }
            };

            return (
                <div className="flex flex-col h-screen max-w-xl mx-auto border-x border-slate-800 bg-[#020617]">
                    {/* Header with Wallet Button */}
                    <header className="p-5 border-b border-slate-800 flex justify-between items-center bg-slate-900/50">
                        <div className="flex items-center gap-2">
                            <div className="w-8 h-8 nft-btn rounded-lg flex items-center justify-center">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2.5"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                            </div>
                            <h1 className="text-white font-black text-xs uppercase tracking-widest">Nexus Web3</h1>
                        </div>
                        
                        <button 
                            onClick={connectWallet}
                            className={`px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all border ${
                                account ? 'border-emerald-500 text-emerald-400 bg-emerald-500/10' : 'border-indigo-500 text-white nft-btn'
                            }`}
                        >
                            {account ? `${account.substring(0, 6)}...${account.substring(account.length - 4)}` : 'Connect Wallet'}
                        </button>
                    </header>

                    {/* Main Content */}
                    <main className="flex-1 flex flex-col items-center justify-center p-8 text-center space-y-6">
                        <div className="w-24 h-24 bg-indigo-500/10 rounded-full flex items-center justify-center border border-indigo-500/20 animate-pulse">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#6366f1" strokeWidth="1.5"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                        </div>
                        
                        <h2 className="text-2xl font-black text-white">
                            {account ? 'أنت جاهز للصك!' : 'اربط محفظتك للبدء'}
                        </h2>
                        <p className="text-slate-400 text-sm leading-relaxed">
                            {account 
                                ? 'يمكنك الآن صك (Mint) الـ NFTs الخاصة بك مباشرة على شبكة Polygon أو Ethereum.' 
                                : 'يتطلب التفاعل مع الـ Blockchain وجود محفظة رقمية نشطة مثل MetaMask.'}
                        </p>

                        {account && (
                            <button className="w-full py-4 rounded-2xl nft-btn text-white font-black shadow-lg shadow-indigo-500/30 hover:scale-105 transition-all">
                                صك أول NFT الآن (Mint NFT)
                            </button>
                        )}
                    </main>

                    <footer className="p-6 text-center text-[10px] text-slate-600 font-bold uppercase tracking-[0.3em]">
                        {status} | Network: Mainnet
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

